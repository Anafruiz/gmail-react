{"version":3,"sources":["components/Header/HeaderForm.js","components/Header/HeaderFilters.js","components/Header/Header.js","components/Footer/FooterPolicy.js","components/Footer/FooterCookies.js","components/Footer/FooterMain.js","components/Footer/Footer.js","components/Email/EmailItem.js","components/Email/EmailTable.js","services/filterEmail.js","components/Email/EmailReader.js","services/getDataFromApi.js","services/localStorage.js","components/Loading.js","components/App.js","index.js"],"names":["HeaderForm","props","className","onClick","ev","preventDefault","handleInboxFilter","handleDeletedFilter","type","defaultValue","textFilter","placeholder","onKeyUp","data","value","target","handleTextFilter","HeaderFilters","emailType","showInbox","filterText","Header","to","exact","path","FooterPolicy","title","FooterConfig","FooterMain","renderLink","text","children","match","isExact","Footer","FooterCookies","EmailItem","deletedClass","deleted","readClass","read","trashIconClass","renderTd","id","from","subject","time","stopPropagation","handleDeleteEmail","EmailTable","emails","map","email","fromName","date","filterEmails","lowerCaseInboxFilter","toLowerCase","filter","includes","body","EmailReader","handleDelete","bind","this","handleReadEmail","frontEmail","handleClick","React","Component","getDataFromApi","fetch","then","response","json","results","key","localStorage","setItem","JSON","stringify","parse","getItem","Loading","loading","App","localStorageData","ls","useState","setEmails","setTextFilter","setShowInbox","setLoading","useEffect","emailId","find","setEmailAttribute","attribute","render","selectedEmail","params","undefined","fromEmail","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e6f174c7.chunk.js","sourcesContent":["function HeaderForm(props) {\r\n  const handleButton = (ev) => {\r\n    ev.preventDefault();\r\n    props.handleInboxFilter();\r\n  };\r\n  function handleDeletedFilter(ev) {\r\n    ev.preventDefault();\r\n    props.handleDeletedFilter();\r\n  }\r\n  function handleTextFilter(ev) {\r\n    ev.preventDefault();\r\n    const data = {\r\n      value: ev.target.value,\r\n    };\r\n    props.handleTextFilter(data);\r\n  }\r\n  return (\r\n    <form className=\"header__inputs\">\r\n      <button className=\"form__btn\" onClick={handleButton}>\r\n        <span className=\"fas fa-inbox\"></span>\r\n        Recibidos\r\n      </button>\r\n      <button className=\"form__btn\" onClick={handleDeletedFilter}>\r\n        <span className=\"fas fa-trash\"></span>\r\n        Papelera\r\n      </button>\r\n\r\n      <input\r\n        className=\"form__input-text\"\r\n        type=\"text\"\r\n        defaultValue={props.textFilter}\r\n        placeholder=\"Buscar un correo\"\r\n        onKeyUp={handleTextFilter}\r\n      />\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default HeaderForm;\r\n","const HeaderFilters = (props) => {\r\n  const emailType = props.showInbox ? \" recibidos\" : \" borrados\";\r\n  const filterText =\r\n    props.textFilter === \"\" ? (\r\n      \" y sin filtrar.\"\r\n    ) : (\r\n      <span>\r\n        y filtrando por:<span className=\"text--bold\">{props.textFilter}</span>\r\n      </span>\r\n    );\r\n\r\n  return (\r\n    <p className=\"mb-1\">\r\n      La usuaria está visualizando los emails{\" \"}\r\n      <span className=\"text--bold\">{emailType}</span>\r\n      {filterText}\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default HeaderFilters;\r\n","import HeaderForm from \"./HeaderForm\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\nimport HeaderFilters from \"./HeaderFilters\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header>\r\n      <div>\r\n        <div>\r\n          <h1 className=\"title\">\r\n            <Link to=\"/\" className=\"text--decoration--none\">\r\n              <span className=\"fas fa-envelope-open-text mr-1\"></span>\r\n              Gmail\r\n            </Link>\r\n          </h1>\r\n        </div>\r\n        <HeaderForm\r\n          textFilter={props.textFilter}\r\n          handleInboxFilter={props.handleInboxFilter}\r\n          handleTextFilter={props.handleTextFilter}\r\n          handleDeletedFilter={props.handleDeletedFilter}\r\n        />\r\n      </div>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <HeaderFilters\r\n            textFilter={props.textFilter}\r\n            showInbox={props.showInbox}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst FooterPolicy = () => {\r\n  return (\r\n    <>\r\n      <h4 className=\"title--medium pb-1\">Política de privacidad:</h4>\r\n      <p>\r\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt\r\n        delectus voluptates nulla assumenda hic, molestiae at quibusdam\r\n        repudiandae magnam accusantium sed accusamus amet sunt molestias\r\n        explicabo natus eum temporibus. Eum.\r\n      </p>\r\n      <Link to=\"/\">\r\n        <span\r\n          title=\"Volver\"\r\n          className=\"btn--close fas fa-times-circle text--decoration--none\"\r\n        ></span>\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FooterPolicy;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst FooterConfig = (props) => {\r\n  return (\r\n    <div>\r\n      <h4 className=\"title--medium pb-1\">Cookies:</h4>\r\n      <p>\r\n        Esta web no usa cookies, pero sí que usa un poquito de local storage ;)\r\n      </p>\r\n      <Link to=\"/\">\r\n        <span\r\n          title=\"Volver\"\r\n          className=\"btn--close fas fa-times-circle text--decoration--none\"\r\n        ></span>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FooterConfig;\r\n","import React from \"react\";\r\nimport { Link, Route } from \"react-router-dom\";\r\n\r\nconst FooterMain = () => {\r\n  const renderLink = (text, to) => {\r\n    return (\r\n      <Link className=\"nav__link text--decoration--none\" to={to}>\r\n        {text}\r\n      </Link>\r\n    );\r\n  };\r\n  const renderLinkToHome = (props) => {\r\n    if (props.match.isExact === false) {\r\n      return <>/{renderLink(\"Ir a la home\", \"/\")}</>;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"col2\">\r\n      <small className=\"text--primary-light\">\r\n        {renderLink(\"Politica de privacidad\", \"/privacy\")}/\r\n        {renderLink(\"Cookies\", \"/Cookies\")}/\r\n        <Route path=\"/\" children={renderLinkToHome} />\r\n      </small>\r\n      <small className=\"text--primary-light text-align-right\">\r\n        Ejercicio de React / Desarrollado por @anafruiz\r\n      </small>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FooterMain;\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport FooterPolicy from \"./FooterPolicy\";\r\nimport FooterCookies from \"./FooterCookies\";\r\nimport FooterMain from \"./FooterMain\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <Switch>\r\n        <Route path=\"/cookies\">\r\n          <FooterCookies />\r\n        </Route>\r\n        <Route path=\"/privacy\">\r\n          <FooterPolicy />\r\n        </Route>\r\n        <Route>\r\n          <FooterMain />\r\n        </Route>\r\n      </Switch>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nfunction EmailItem(props) {\r\n  let deletedClass = props.deleted === true ? \"text--decoration--through\" : \"\";\r\n  let readClass = props.read === true ? \"\" : \"text--bold\";\r\n  let trashIconClass = props.deleted ? \"fa-trash-restore\" : \"fa-trash\";\r\n  const handleDeleteEmail = (ev) => {\r\n    ev.stopPropagation();\r\n    props.handleDeleteEmail(props.id, !props.deleted);\r\n  };\r\n\r\n  const renderTd = (text) => {\r\n    return (\r\n      <td className=\"email--cell\">\r\n        <Link\r\n          className=\"email--link text--decoration--none\"\r\n          to={`email/${props.id}`}\r\n        >\r\n          {text}\r\n        </Link>\r\n      </td>\r\n    );\r\n  };\r\n  return (\r\n    <tr className={`cursor-pointer ${deletedClass}${readClass}`}>\r\n      {renderTd(props.from)}\r\n      {renderTd(props.subject)}\r\n      {renderTd(props.time)}\r\n\r\n      <td className=\"text-align-right\">\r\n        <button\r\n          className={`form__btn fas ${trashIconClass}`}\r\n          onClick={handleDeleteEmail}\r\n        ></button>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\nexport default EmailItem;\r\n","import React from \"react\";\r\nimport EmailItem from \"./EmailItem\";\r\n\r\nfunction EmailTable(props) {\r\n  const emails = props.emails.map((email) => {\r\n    return (\r\n      <EmailItem\r\n        key={email.id}\r\n        id={email.id}\r\n        from={email.fromName}\r\n        subject={email.subject}\r\n        time={email.date}\r\n        read={email.read}\r\n        deleted={email.deleted}\r\n        handleDeleteEmail={props.handleDeleteEmail}\r\n      />\r\n    );\r\n  });\r\n  return (\r\n    <table className=\"table\">\r\n      <tbody>{emails}</tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default EmailTable;\r\n","const filterEmails = (emails, textFilter, showInbox) => {\r\n  const lowerCaseInboxFilter = textFilter.toLowerCase();\r\n  return (\r\n    emails\r\n      // filter by inbox vs deleted\r\n      .filter((email) => {\r\n        // return showInbox !== email.deleted;\r\n        return showInbox === true ? !email.deleted : email.deleted;\r\n      })\r\n      // filter by inboxFilter text\r\n      .filter((email) => {\r\n        return (\r\n          email.fromName.toLowerCase().includes(lowerCaseInboxFilter) ||\r\n          email.subject.toLowerCase().includes(lowerCaseInboxFilter) ||\r\n          email.body.toLowerCase().includes(lowerCaseInboxFilter)\r\n        );\r\n      })\r\n  );\r\n};\r\n\r\nexport default filterEmails;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass EmailReader extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.props.handleReadEmail(this.props.id);\r\n  }\r\n\r\n  handleDelete() {\r\n    this.props.handleDeleteEmail(this.props.id);\r\n  }\r\n\r\n  render() {\r\n    let trashIconClass = this.props.deleted ? \"fa-trash-restore\" : \"fa-trash\";\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"col2 mt-1 pt-1\">\r\n          <div>\r\n            <h2 className=\"title--meidum\">{this.props.subject}</h2>\r\n            <h3 className=\"title--small\">\r\n              <span className=\"text--bold display-inline-block mr-1\">\r\n                {this.props.fromName}\r\n              </span>\r\n              <span className=\"text-normal display-inline-block\">\r\n                {this.props.frontEmail}\r\n              </span>\r\n            </h3>\r\n          </div>\r\n          <div className=\"text-align-right\">\r\n            <Link className=\"fas fa-times-circle form__btn\" to=\"/\" />\r\n            <Link\r\n              className={`form__btn fas ${trashIconClass}`}\r\n              to=\"/\"\r\n              onClick={this.handleDeleteEmail}\r\n            />\r\n          </div>\r\n        </div>\r\n        <p>{this.props.body}</p>\r\n        <div className=\"mt-1\">\r\n          <button className=\"form__btn\" onClick={this.handleClick}>\r\n            <span className=\"fas fa-reply\" />\r\n            Responder\r\n          </button>\r\n          <button className=\"form__btn\">\r\n            <span className=\"fas fa-reply-all\" />\r\n            Responder a todos\r\n          </button>\r\n          <button className=\"form__btn\">\r\n            <span className=\"fas fa-share\" />\r\n            Reenviar a todos\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EmailReader;\r\n","const getDataFromApi = (emails, textFilter, showInbox) => {\r\n  return fetch(\"//beta.adalab.es/ejercicios-extra/api/emails/v01.json\")\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      return data.results;\r\n    });\r\n};\r\n\r\nexport default getDataFromApi;\r\n\r\n//En caso de que la url del fetch no funciones, usar este JSON:\r\n// {\r\n//     \"results\": [\r\n//       {\r\n//         \"id\": \"asdf1\",\r\n//         \"fromName\": \"Front Fest\",\r\n//         \"fromEmail\": \"info@frontfest.org\",\r\n//         \"date\": \"15:27\",\r\n//         \"subject\": \"Entradas ya a la venta\",\r\n//         \"deleted\": false,\r\n//         \"read\": true,\r\n//         \"body\": \"FrontFest es un evento anual y sin ánimo de lucro. Está organizado y gestionado por un equipo de voluntarios y voluntarias que pertenecen a la comunidad de desarrollo frontend.. Celebrado por primera vez en 2017, pretende ser un punto de encuentro a nivel nacional, principalmente en castellano, para todas aquellas personas interesadas en las tecnologías de frontend, donde compartir experiencias y aprender acerca de las nuevas tendencias en el sector. Y por supuesto, acabar divirtiéndose en buena compañía.\"\r\n//       },\r\n//       {\r\n//         \"id\": \"fas2\",\r\n//         \"fromName\": \"GitHub\",\r\n//         \"fromEmail\": \"noreply@github.com\",\r\n//         \"date\": \"13:51\",\r\n//         \"subject\": \"Adalab/project-promo-i Local store #23\",\r\n//         \"deleted\": false,\r\n//         \"read\": false,\r\n//         \"body\": \"You can view, comment on, or merge this pull request online at:. https://github.com/Adalab/project-promo-h/pull/23. Commit Summary. Local storage wip. Accept incoming changes. Merge after dev with reset. File Changes. M src/components/App.js (22). M src/components/Form.js (2). A src/localStorage/localstorage.js (7)\"\r\n//       },\r\n//       {\r\n//         \"id\": \"hfgh3\",\r\n//         \"fromName\": \"Node Weekly\",\r\n//         \"fromEmail\": \"node@cooperpress.com\",\r\n//         \"date\": \"20:41\",\r\n//         \"subject\": \"Node news\",\r\n//         \"deleted\": true,\r\n//         \"read\": true,\r\n//         \"body\": \"How We 30x-ed Our Node Parallelism — An interesting write up of how one team safely increased the parallelism of their Node-based service. You might find things to argue with here, but this is real world stuff.. Node v13.6.0 (Current) Released — The usual tweaks and minor improvements. perf_hooks is no longer experimental, the REPL gains zsh-style reverse searching, and there are two new assert methods for when using regular expressions (assert.match and assert.doesNotMatch).\"\r\n//       }\r\n//     ]\r\n//   }\r\n","const get = (key, defaultValue) => {\r\n  const data = JSON.parse(localStorage.getItem(\"emailFilters\"));\r\n  if (data === null) {\r\n    return defaultValue;\r\n  } else {\r\n    return data;\r\n  }\r\n};\r\n\r\nconst set = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\nexport default {\r\n  set: set,\r\n  get: get,\r\n};\r\n","const Loading = (props) => {\r\n  return props.loading ? <div className=\"loading mt-1\"></div> : null;\r\n};\r\nexport default Loading;\r\n","import \"../stylesheet/App.scss\";\r\nimport Header from \"./Header/Header\";\r\nimport Footer from \"./Footer/Footer\";\r\nimport EmailTable from \"./Email/EmailTable\";\r\nimport filterEmails from \"../services/filterEmail\";\r\nimport EmailReader from \"./Email/EmailReader\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport getDataFromApi from \"../services/getDataFromApi\";\r\nimport ls from \"../services/localStorage\";\r\nimport Loading from \"./Loading\";\r\n\r\nfunction App() {\r\n  //get data from localStorage\r\n\r\n  let localStorageData = ls.get(\"emailFilters\", {\r\n    textFilter: \"\",\r\n    showInbox: true,\r\n  });\r\n\r\n  //States\r\n  const [emails, setEmails] = useState([]);\r\n  const [textFilter, setTextFilter] = useState(localStorageData.textFilter);\r\n  const [showInbox, setShowInbox] = useState(localStorageData.showInbox);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  //fetch\r\n  useEffect(() => {\r\n    getDataFromApi()\r\n      .then((data) => setEmails(data))\r\n      .then(() => setLoading(false));\r\n  }, []);\r\n\r\n  //LocalStorage\r\n  useEffect(() => {\r\n    ls.set(\"emailFilters\", { textFilter, showInbox });\r\n  });\r\n  //event handlers\r\n  const handleInboxFilter = () => {\r\n    setShowInbox(true);\r\n  };\r\n  const handleDeletedFilter = () => {\r\n    setShowInbox(false);\r\n  };\r\n  const handleTextFilter = (data) => {\r\n    setTextFilter(data.value);\r\n  };\r\n\r\n  const handleReadEmail = (emailId) => {\r\n    // set email read attribute to true\r\n    const email = emails.find((email) => email.id === emailId);\r\n    email.read = true;\r\n    setEmails([...emails]);\r\n  };\r\n  const handleDeleteEmail = (emailId, deleted) =>\r\n    setEmailAttribute(emailId, \"deleted\", deleted);\r\n  const setEmailAttribute = (emailId, attribute, value) => {\r\n    const email = emails.find((email) => email.id === emailId);\r\n    email[attribute] = value;\r\n    setEmails([...emails]);\r\n  };\r\n\r\n  // render helpers\r\n\r\n  const renderEmailDetail = (props) => {\r\n    const selectedEmail = emails.find(\r\n      (email) => email.id === props.match.params.emailId\r\n    );\r\n    if (selectedEmail !== undefined) {\r\n      return (\r\n        <EmailReader\r\n          fromName={selectedEmail.fromName}\r\n          fromEmail={selectedEmail.fromEmail}\r\n          subject={selectedEmail.subject}\r\n          body={selectedEmail.body}\r\n          id={selectedEmail.id}\r\n          deleted={selectedEmail.deleted}\r\n          handleDeleteEmail={handleDeleteEmail}\r\n          handleReadEmail={handleReadEmail}\r\n        />\r\n      );\r\n    } else {\r\n      return <p>Email no encontrado</p>;\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Header\r\n        textFilter={textFilter}\r\n        showInbox={showInbox}\r\n        handleInboxFilter={handleInboxFilter}\r\n        handleDeletedFilter={handleDeletedFilter}\r\n        handleTextFilter={handleTextFilter}\r\n      />\r\n\r\n      <Switch>\r\n        <Route path=\"/email/:emailId\" render={renderEmailDetail} />\r\n        <Route path=\"/\">\r\n          <EmailTable\r\n            emails={filterEmails(emails, textFilter, showInbox)}\r\n            handleDeleteEmail={handleDeleteEmail}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n      <Loading loading={loading} />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./stylesheet/App.scss\";\nimport App from \"./components/App\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}